<div class="profile-page-section">
    <div class="left-side">
        <div class="profile-card">
            <div class="profile-card-logo">
                <img src="./assets/images/logo.png" alt="">
            </div>
            <div class="profile-card-info">
                <h1>Profile</h1>
                <span>Manage your personal and professional information</span>
            </div>
        </div>
        <div class="profile-card flex-column position-relative border-top-blue">
            <div class="profile-details-grid">
                <div class="profile-grid-left">
                    <div class="progress-wrapper">

                        <!-- Show initials with progress if there's no image or if image failed -->
                        <div class="circle-progress" *ngIf="!profileData?.ImagePath || imageLoadError"
                            [style.background]="'conic-gradient(#2563eb 0% ' + progress + '%, #e5e7eb ' + progress + '%)'">
                            <div class="circle-inner">{{ profileData?.FullName | initials }}</div>
                        </div>

                        <!-- Show image if path exists and no error -->
                        <div class="circle-progress" *ngIf="profileData?.ImagePath && !imageLoadError"
                            [style.background]="'conic-gradient(#2563eb 0% ' + progress + '%, #e5e7eb ' + progress + '%)'">
                            <img [src]="profileData.ImagePath" alt="Profile Image" class="profile-image"
                                (load)="onImageLoad()" (error)="onImageError($event)" />
                        </div>



                        <div class="progress-label">Profile Completion</div>
                        <div class="progress-value">{{ progress }}%</div>

                    </div>


                    <div class="profile-box">
                        <h4> {{ profileData?.FullName || 'Not specified' }}
                            <span class="verified-badge"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="lucide lucide-circle-check-big h-3 w-3 mr-1">
                                    <path d="M21.801 10A10 10 0 1 1 17 3.335"></path>
                                    <path d="m9 11 3 3L22 4"></path>
                                </svg> Verified</span>
                            <button class="bg-transparent shadow-none border-0" data-bs-toggle="modal"
                                data-bs-target="#personalInfoModal">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round"
                                    class="lucide lucide-square-pen h-3.5 w-3.5 text-blue-500 svg-blue ms-2">
                                    <path d="M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                                    <path
                                        d="M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z">
                                    </path>
                                </svg>
                            </button>
                        </h4>
                        <div class="muted-label d-flex">
                            <div class="svg-section">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="lucide lucide-briefcase h-4 w-4 text-gray-500">
                                    <path d="M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                                    <rect width="20" height="14" x="2" y="6" rx="2"></rect>
                                </svg>
                            </div>
                            {{ profileData?.Designation || 'Not specified' }}
                        </div>
                        <div class="muted-label d-flex">
                            <div class="svg-section">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="lucide lucide-map-pin h-4 w-4 text-gray-500">
                                    <path
                                        d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0">
                                    </path>
                                    <circle cx="12" cy="10" r="3"></circle>
                                </svg>
                            </div>
                            {{ profileData?.City || profileData?.State || profileData?.Country || 'Not specified' }}
                        </div>

                        <div class="info-section">
                            <div class="row g-3 mb-3">
                                <div class="col-12">
                                    <div class="contact-info-section">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round"
                                            class="lucide lucide-phone h-4 w-4 text-gray-500 flex-shrink-0">
                                            <path
                                                d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z">
                                            </path>
                                        </svg>
                                        <div>
                                            <div class="info-label">Phone</div>
                                            <div class="info-block"><span class="masked"> {{ profileData?.Mobile || 'Not specified'}}</span></div>
                                        </div>
                                        <!-- <button class="bg-transparent border-0 shadow-none mt-auto px-0">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                                stroke-linecap="round" stroke-linejoin="round"
                                                class="lucide lucide-eye h-3 w-3 svg-blue">
                                                <path
                                                    d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0">
                                                </path>
                                                <circle cx="12" cy="12" r="3"></circle>
                                            </svg>
                                        </button> -->
                                    </div>
                                </div>
                                <div class="col-12">
                                    <div class="contact-info-section">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round"
                                            class="lucide lucide-mail h-4 w-4 text-gray-500 flex-shrink-0">
                                            <rect width="20" height="16" x="2" y="4" rx="2"></rect>
                                            <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
                                        </svg>
                                        <div>
                                            <div class="info-label">Email</div>
                                            <div class="info-block"><span
                                                    class="masked"> {{ profileData?.EmailI || 'Not specified' }}
                                                </span></div>
                                        </div>
                                        <!-- <button class="bg-transparent border-0 shadow-none mt-auto px-0">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                                stroke-linecap="round" stroke-linejoin="round"
                                                class="lucide lucide-eye h-3 w-3 svg-blue">
                                                <path
                                                    d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0">
                                                </path>
                                                <circle cx="12" cy="12" r="3"></circle>
                                            </svg>
                                        </button> -->
                                    </div>
                                </div>
                                <div class="col-12">
                                    <div class="contact-info-section">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round"
                                            class="lucide lucide-calendar h-4 w-4 text-gray-500 flex-shrink-0">
                                            <path d="M8 2v4"></path>
                                            <path d="M16 2v4"></path>
                                            <rect width="18" height="18" x="3" y="4" rx="2"></rect>
                                            <path d="M3 10h18"></path>
                                        </svg>
                                        <div>
                                            <div class="info-label">Experience</div>
                                            <div class="info-block"><span class="text-muted"> {{
                                                    profileData?.ExperienceYears || 0 }} year{{
                                                    profileData?.ExperienceYears > 1 ? 's' : '' }}{{
                                                    profileData?.ExperienceMonths || 0 }}
                                                    month{{ profileData?.ExperienceMonths > 1 ? 's' : '' }}</span></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="profile-grid-right">

                    <div class="points-card">
                        <div class="points-header">
                            <h6><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="lucide lucide-award h-4 w-4 text-blue-50">
                                    <path
                                        d="m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526">
                                    </path>
                                    <circle cx="12" cy="8" r="6"></circle>
                                </svg> Total Points</h6>
                            <div class="total">60</div>
                        </div>
                        <div class="points-body">
                            <div class="points-item">
                                <div class="label">
                                    <div class="points-svg"><svg xmlns="http://www.w3.org/2000/svg" width="24"
                                            height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                            class="lucide lucide-award h-3.5 w-3.5 text-blue-500">
                                            <path
                                                d="m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526">
                                            </path>
                                            <circle cx="12" cy="8" r="6"></circle>
                                        </svg></div> Training
                                </div>
                                <div class="value">0 pts</div>
                            </div>
                            <div class="points-item">
                                <div class="label">
                                    <div class="points-svg"><svg xmlns="http://www.w3.org/2000/svg" width="24"
                                            height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                            class="lucide lucide-user h-3.5 w-3.5 text-blue-500">
                                            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                                            <circle cx="12" cy="7" r="4"></circle>
                                        </svg></div> Referrals
                                </div>
                                <div class="value">0 pts</div>
                            </div>
                            <div class="points-item">
                                <div class="label">
                                    <div class="points-svg"><svg xmlns="http://www.w3.org/2000/svg" width="24"
                                            height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                            class="lucide lucide-award h-3.5 w-3.5 text-blue-500">
                                            <path
                                                d="m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526">
                                            </path>
                                            <circle cx="12" cy="8" r="6"></circle>
                                        </svg></div> Achievements
                                </div>
                                <div class="value">0 pts</div>
                            </div>
                            <div class="points-item">
                                <div class="label">
                                    <div class="points-svg"><svg xmlns="http://www.w3.org/2000/svg" width="24"
                                            height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                            class="lucide lucide-award h-3.5 w-3.5 text-blue-500">
                                            <path
                                                d="m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526">
                                            </path>
                                            <circle cx="12" cy="8" r="6"></circle>
                                        </svg></div> Careers
                                </div>
                                <div class="value">0 pts</div>
                            </div>
                            <div class="points-item">
                                <div class="label">
                                    <div class="points-svg"><svg xmlns="http://www.w3.org/2000/svg" width="24"
                                            height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                            class="lucide lucide-award h-3.5 w-3.5 text-blue-500">
                                            <path
                                                d="m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526">
                                            </path>
                                            <circle cx="12" cy="8" r="6"></circle>
                                        </svg></div> Tools
                                </div>
                                <div class="value">0 pts</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="profile-card-bottom-part">
                <div class="toggle-switch">
                    <div>
                        <h5 class="mb-1">Profile Visibility</h5>
                        <p class="mb-0 fw-semibold">Make Profile Public</p>
                        <p>
                            When enabled, your profile will be visible in the AV Champs directory<br>
                        </p>
                        <p class="note-text">
                            <strong>Note:</strong> Only users with Public Profile enabled can apply to jobs.
                        </p>
                    </div>
                    <div class="form-check form-switch fs-4">
                        <input class="form-check-input shadow-none" type="checkbox" id="profileSwitch">
                    </div>
                </div>

                <div class="footer-row mt-4">
                    <div class="social-icons d-flex align-items-center">
                        <button class="social-icon-button" data-bs-toggle="modal" data-bs-target="#linkedinModal">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="lucide lucide-linkedin h-4 w-4 text-gray-500">
                                <path
                                    d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z">
                                </path>
                                <rect width="4" height="12" x="2" y="9"></rect>
                                <circle cx="4" cy="4" r="2"></circle>
                            </svg>
                        </button>
                        <button class="social-icon-button" data-bs-toggle="modal" data-bs-target="#twitterModal">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="lucide lucide-twitter h-4 w-4 text-gray-500">
                                <path
                                    d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z">
                                </path>
                            </svg>
                        </button>
                        <button class="social-icon-button" data-bs-toggle="modal" data-bs-target="#facebookModal">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="lucide lucide-facebook h-4 w-4 text-gray-500">
                                <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
                            </svg>
                        </button>
                        <button class="social-icon-button bell">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" class="lucide lucide-bell h-4 w-4 text-gray-500">
                                <path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"></path>
                                <path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"></path>
                            </svg>
                        </button>
                    </div>
                    <div class="d-flex justify-content-end align-items-center gap-3 mobile-w-100">
                        <small class="text-muted"><i class="bi bi-clock me-1"></i> <span
                                class="hideInMobile">Updated:</span>
                            {{ profileData?.UpdatedDate ? (profileData?.UpdatedDate | date:'d MMMM y') : 'Not specified'
                            }}</small>
                        <button class="points-btn" data-bs-toggle="modal" data-bs-target="#businessCardModal">
                            <i class="bi bi-person-vcard me-1"></i> Business Card <b>50 pts</b>
                        </button>
                    </div>
                </div>

                <div class="footer-row credit-row mt-2 justify-content-between">
                    <small class="text-muted">© 2025 AV Champs Professional Network</small>
                    <div class="profile-id d-flex">
                        <span class="text-success d-flex align-items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round"
                                stroke-linejoin="round"
                                class="lucide lucide-circle-check-big h-3 w-3 text-green-500 me-2">
                                <path d="M21.801 10A10 10 0 1 1 17 3.335"></path>
                                <path d="m9 11 3 3L22 4"></path>
                            </svg>
                            Verified Profile</span>
                        • ID: AVC-{{ profileData?.UserID || '0' }}
                    </div>
                </div>
            </div>

        </div>

        <div class="card card-container">
            <!-- Tabs -->
            <div class="tab-header">
                <a (click)="onTabSelection('Personal')" [ngClass]="{'active': currentSection == 'Personal'}"
                    class="cursor-pointer">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="lucide lucide-user h-3.5 w-3.5 md:h-4 md:w-4 mr-1 md:mr-2">
                        <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                    Personal
                </a>

                <a (click)="onTabSelection('Professional')" [ngClass]="{'active': currentSection == 'Professional'}"
                    class="cursor-pointer">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="lucide lucide-briefcase h-3.5 w-3.5 md:h-4 md:w-4 mr-1 md:mr-2">
                        <path d="M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                        <rect width="20" height="14" x="2" y="6" rx="2"></rect>
                    </svg>
                    Professional
                </a>

                <a (click)="onTabSelection('Address')" [ngClass]="{'active': currentSection == 'Address'}"
                    class="cursor-pointer">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="lucide lucide-map-pin h-3.5 w-3.5 md:h-4 md:w-4 mr-1 md:mr-2">
                        <path
                            d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0">
                        </path>
                        <circle cx="12" cy="10" r="3"></circle>
                    </svg>
                    Address
                </a>
            </div>

            <ng-container *ngIf="currentSection == TabType.Personal">
                <!-- Section Header -->
                <div class="section-header">
                    <h6><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="lucide lucide-user h-4 md:h-5 w-4 md:w-5 mr-2 text-blue-600">
                            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg> Personal Information</h6>
                    <button class="btn btn-primary edit-btn" data-bs-toggle="modal" data-bs-target="#personalInfoModal">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="lucide lucide-pencil h-3 md:h-3.5 w-3 md:w-3.5 text-white group-hover:animate-wiggle">
                            <path
                                d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z">
                            </path>
                            <path d="m15 5 4 4"></path>
                        </svg> Edit
                    </button>
                </div>

                <!-- Info Content -->
                <div class="info-body">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <div class="info-label"><svg _ngcontent-ng-c682863746="" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user h-3.5 w-3.5 md:h-4 md:w-4 mr-1 md:mr-2"><path _ngcontent-ng-c682863746="" d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle _ngcontent-ng-c682863746="" cx="12" cy="7" r="4"></circle></svg>Full Name</div>
                            <div class="info-value">{{ profileData?.FullName || 'NA' }}</div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="info-label"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="lucide lucide-at-sign h-4 w-4 mr-2 text-blue-500">
                                    <circle cx="12" cy="12" r="4"></circle>
                                    <path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8"></path>
                                </svg>Email Address</div>
                            <div class="info-value">
                                <span>{{ profileData?.ProfileEmailId || 'NA' }}</span>
                                <!-- <button class="bg-transparent border-0 shadow-none">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" class="lucide lucide-eye h-3.5 w-3.5 text-blue-500">
                                        <path
                                            d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0">
                                        </path>
                                        <circle cx="12" cy="12" r="3"></circle>
                                    </svg>
                                </button> -->
                            </div>
                        </div>

                        <div class="col-md-6 mb-3">
                            <div class="info-label"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="lucide lucide-smartphone h-4 w-4 mr-2 text-blue-500">
                                    <rect width="14" height="20" x="5" y="2" rx="2" ry="2"></rect>
                                    <path d="M12 18h.01"></path>
                                </svg>Phone Number</div>
                            <div class="info-value text-muted">

                                {{ profileData?.Mobile || 'Not specified' }}
                            </div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="info-label"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="lucide lucide-calendar h-4 w-4 mr-2 text-blue-500">
                                    <path d="M8 2v4"></path>
                                    <path d="M16 2v4"></path>
                                    <rect width="18" height="18" x="3" y="4" rx="2"></rect>
                                    <path d="M3 10h18"></path>
                                </svg>Date of Birth</div>
                            <div class="info-value text-muted">
                                {{ profileData?.DOB ? (profileData?.DOB | date:'d MMMM y') : 'Not specified' }}
                            </div>
                        </div>

                        <div class="col-md-6 mb-3">
                            <div class="info-label"><svg _ngcontent-ng-c682863746="" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user h-3.5 w-3.5 md:h-4 md:w-4 mr-1 md:mr-2"><path _ngcontent-ng-c682863746="" d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle _ngcontent-ng-c682863746="" cx="12" cy="7" r="4"></circle></svg>Gender</div>
                            <div class="info-value text-muted"> {{ profileData?.Gender || 'Not specified' }}</div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="info-label"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="24" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round" class="lucide lucide-briefcase h-4 w-4 mr-2 text-blue-500">
                                    <path d="M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                                    <rect width="20" height="14" x="2" y="6" rx="2"></rect>
                                </svg>Work Status</div>
                            <div class="info-value">
                                {{ profileData?.WorkStatus || 'Not specified' }}
                            </div>
                        </div>
                    </div>
                </div>
            </ng-container>



            <ng-container *ngIf="currentSection == TabType.Professional">

                <!-- Section Header -->
                <div class="section-header">
                    <h6><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="lucide lucide-briefcase h-4 md:h-5 w-4 md:w-5 mr-2 text-blue-600">
                            <path d="M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                            <rect width="20" height="14" x="2" y="6" rx="2"></rect>
                        </svg>Professional Information</h6>
                    <button class="btn btn-primary edit-btn" data-bs-toggle="modal" data-bs-target="#profModal">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="lucide lucide-pencil h-3 md:h-3.5 w-3 md:w-3.5 text-white group-hover:animate-wiggle">
                            <path
                                d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z">
                            </path>
                            <path d="m15 5 4 4"></path>
                        </svg> Edit
                    </button>
                </div>

                <!-- Info Content -->
                <div class="info-body">
                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <div class="info-label">Company Name</div>
                            <div class="info-value text-muted">{{profileData?.CompanyName || 'Not specified' }}</div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="info-label">Designation</div>
                            <div class="info-value text-muted">{{profileData?.Designation || 'Not specified' }}</div>
                        </div>

                        <div class="col-md-6 mb-3">
                            <div class="info-label">Employment Status</div>
                            <div class="info-value">{{profileData?.EmploymentType || 'Not specified' }}</div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="info-label">Experience</div>
                            <div class="info-value">
                                <ng-container
                                    *ngIf="(profileData?.ExperienceYears || 0) > 0 || (profileData?.ExperienceMonths || 0) > 0; else notSpecified">
                                    {{ profileData?.ExperienceYears || 0 }} year{{ profileData?.ExperienceYears > 1 ?
                                    's' : '' }}
                                    {{ profileData?.ExperienceMonths || 0 }} month{{ profileData?.ExperienceMonths > 1 ?
                                    's' : '' }}
                                </ng-container>
                                <ng-template #notSpecified>
                                    Not specified
                                </ng-template>
                            </div>

                        </div>

                        <div class="col-md-6 mb-3">
                            <div class="info-label">Joining Date</div>
                            <div class="info-value text-muted">{{profileData?.JoiningDate || 'Not specified' }}</div>
                        </div>
                        <div class="col-md-6 mb-3">
                            <div class="info-label">Current Salary</div>
                            <div class="info-value text-muted">{{profileData?.SalaryAmount || 'Not specified' }}</div>
                        </div>
                    </div>
                </div>

                <div class="cert-section">
                    <!-- Header -->
                    <div class="cert-header">
                        <h5>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round"
                                class="lucide lucide-award h-4 md:h-5 w-4 md:w-5 mr-2 text-blue-600">
                                <path
                                    d="m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526">
                                </path>
                                <circle cx="12" cy="8" r="6"></circle>
                            </svg>
                            Certifications
                        </h5>
                        <button class="btn btn-primary edit-btn" data-bs-toggle="modal" data-bs-target="#certModal">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round"
                                class="lucide lucide-plus h-3 md:h-3.5 w-3 md:w-3.5 text-white group-hover:animate-wiggle">
                                <path d="M5 12h14"></path>
                                <path d="M12 5v14"></path>
                            </svg> Add
                        </button>
                    </div>

                    <!-- Empty State -->
                    <div class="cert-empty">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="lucide lucide-award h-12 md:h-16 w-12 md:w-16 mx-auto text-gray-300 mb-3 cert-icon">
                            <path
                                d="m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526">
                            </path>
                            <circle cx="12" cy="8" r="6"></circle>
                        </svg>
                        <h6>No certifications added yet</h6>
                        <p>Showcase your skills with professional certifications</p>
                        <button class="btn btn-primary edit-btn" data-bs-toggle="modal" data-bs-target="#certModal">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round"
                                class="lucide lucide-plus h-3 md:h-3.5 w-3 md:w-3.5 text-white group-hover:animate-wiggle">
                                <path d="M5 12h14"></path>
                                <path d="M12 5v14"></path>
                            </svg> Add Certification
                        </button>
                    </div>
                </div>



            </ng-container>



            <ng-container *ngIf="currentSection == TabType.Address">
                <!-- Section Header -->
                <div class="section-header">
                    <h6><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="lucide lucide-map-pin h-4 md:h-5 w-4 md:w-5 mr-2 text-blue-600">
                            <path
                                d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0">
                            </path>
                            <circle cx="12" cy="10" r="3"></circle>
                        </svg>Address Information</h6>
                    <button class="btn btn-primary edit-btn" data-bs-toggle="modal" data-bs-target="#addressModal">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="lucide lucide-pencil h-3 md:h-3.5 w-3 md:w-3.5 text-white group-hover:animate-wiggle">
                            <path
                                d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z">
                            </path>
                            <path d="m15 5 4 4"></path>
                        </svg> Edit
                    </button>
                </div>

                <div class="address-info-section">
                    <!-- Top Section: Address Line 1 & 2 -->
                    <div class="section-box">
                        <h6>Mailing Address</h6>
                        <div class="row">
                            <div class="col-md-6 mb-2">
                                <div class="field-label">Address Line 1</div>
                                <div class="field-value"> {{ profileData?.AddressLine1 || 'Not specified' }}</div>
                            </div>
                            <div class="col-md-6 mb-2">
                                <div class="field-label">Address Line 2</div>
                                <div class="field-value">{{ profileData?.AddressLine2 || 'Not specified' }}</div>
                            </div>
                        </div>
                    </div>


                    <!-- Bottom Section: Country, State, City, Zip -->
                    <div class="row g-3">
                        <div class="col-md-3">
                            <div class="card-field">
                                <div class="field-label">
                                    <div class="feild-label-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="24"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round"
                                            class="lucide lucide-flag h-3.5 w-3.5 md:h-4 md:w-4 text-blue-600">
                                            <path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path>
                                            <line x1="4" x2="4" y1="22" y2="15"></line>
                                        </svg>
                                    </div>
                                    Country
                                </div>
                                <div class="field-value">{{ profileData?.Country || 'Not specified' }}</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card-field">
                                <div class="field-label">
                                    <div class="feild-label-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="24"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round"
                                            class="lucide lucide-map-pin h-3.5 w-3.5 md:h-4 md:w-4 text-blue-600">
                                            <path
                                                d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0">
                                            </path>
                                            <circle cx="12" cy="10" r="3"></circle>
                                        </svg>
                                    </div>
                                    State
                                </div>
                                <div class="field-value">{{ profileData?.State || 'Not specified' }}</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card-field">
                                <div class="field-label">
                                    <div class="feild-label-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="24"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round"
                                            class="lucide lucide-building h-3.5 w-3.5 md:h-4 md:w-4 text-blue-600">
                                            <rect width="16" height="20" x="4" y="2" rx="2" ry="2"></rect>
                                            <path d="M9 22v-4h6v4"></path>
                                            <path d="M8 6h.01"></path>
                                            <path d="M16 6h.01"></path>
                                            <path d="M12 6h.01"></path>
                                            <path d="M12 10h.01"></path>
                                            <path d="M12 14h.01"></path>
                                            <path d="M16 10h.01"></path>
                                            <path d="M16 14h.01"></path>
                                            <path d="M8 10h.01"></path>
                                            <path d="M8 14h.01"></path>
                                        </svg>
                                    </div>
                                    City
                                </div>
                                <div class="field-value">{{ profileData?.City || 'Not specified' }}</div>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="card-field">
                                <div class="field-label">
                                    <div class="feild-label-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="24"
                                            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                            stroke-linecap="round" stroke-linejoin="round"
                                            class="lucide lucide-hash h-3.5 w-3.5 md:h-4 md:w-4 text-blue-600">
                                            <line x1="4" x2="20" y1="9" y2="9"></line>
                                            <line x1="4" x2="20" y1="15" y2="15"></line>
                                            <line x1="10" x2="8" y1="3" y2="21"></line>
                                            <line x1="16" x2="14" y1="3" y2="21"></line>
                                        </svg>
                                    </div>
                                    Zip Code
                                </div>
                                <div class="field-value">{{ profileData?.ZipCode || 'Not specified' }}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </ng-container>



        </div>
    </div>
    <div class="right-side">

        <div class="ad-card">
            <div class="ad-header">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="lucide lucide-badge-info h-4 w-4 mr-2">
                    <path
                        d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z">
                    </path>
                    <line x1="12" x2="12" y1="16" y2="12"></line>
                    <line x1="12" x2="12.01" y1="8" y2="8"></line>
                </svg> Sponsored Content
            </div>
            <div class="ad-image">
                <img src="https://via.placeholder.com/240x150?text=Sample+Ad+1" alt="Sample Ad">
                <div class="ad-label">Advertisement</div>
            </div>
            <div class="ad-body">
                <h5>Sample Ad 1</h5>
                <p>This is a sample advertisement.</p>
                <button class="btn learn-more-btn mx-auto">Learn More</button>
            </div>
            <div class="ad-footer">
                Google Ad Slot <br>
                <small>Advertisement · <a href="#">Report this ad</a></small>
            </div>
        </div>
    </div>
</div>

<!-- Add [formGroup]="personalInfoForm" and (ngSubmit)="submitForm()" -->

<form [formGroup]="personalInfoForm" (ngSubmit)="submitForm()">
    <div class="modal fade" id="personalInfoModal" #personalInfoModal tabindex="-1" aria-labelledby="personalInfoLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable">
            <div class="modal-content rounded-4">
                <div class="modal-header border-bottom-0">
                    <h5 class="modal-title" id="personalInfoLabel">
                        <i class="bi bi-person text-primary me-2"></i> Personal Information
                    </h5>
                    <button type="button" class="btn-close shadow-none" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>

                <div class="modal-body">

                    <!-- Personal Info -->
                    <div class="form-section">
                        <h6>Personal Information</h6>

                        <div class="mb-3">
                            <label class="form-label">Name <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" placeholder="Enter your full name" name="FullName"
                                formControlName="FullName" maxlength="32">
                            <div *ngIf="personalInfoForm.get('FullName')?.touched && personalInfoForm.get('FullName')?.invalid"
                                class="text-danger small mt-1">
                                Name is required.
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Gender <span class="text-danger">*</span></label>
                            <select class="form-select" formControlName="Gender" name="gender">
                                <option value="" disabled>Select gender</option>
                                <option>Male</option>
                                <option>Female</option>
                                <option>Other</option>
                            </select>
                            <div *ngIf="personalInfoForm.get('Gender')?.touched && personalInfoForm.get('Gender')?.invalid"
                                class="text-danger small mt-1">
                                Gender is required.
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Date of Birth <span class="text-danger">*</span></label>
                            <input type="date" class="form-control" placeholder="dd-mm-yyyy" name="dob"
                                formControlName="DOB">
                            <div *ngIf="personalInfoForm.get('DOB')?.touched && personalInfoForm.get('DOB')?.invalid"
                                class="text-danger small mt-1">
                                Date of birth is required.
                            </div>
                        </div>
                    </div>

                    <!-- Work Status -->
                    <div class="form-section">
                        <h6>Work Status</h6>
                        <small class="d-block text-muted mb-3">We will personalize your AVchamps experience based on
                            this</small>
                        <div class="d-flex radio-group">
                            <div class="form-check me-4">
                                <input class="form-check-input" type="radio" id="fresher" value="Fresher"
                                    name="WorkStatus" formControlName="WorkStatus">
                                <label class="form-check-label" for="fresher">Fresher</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" id="experienced" value="Experienced"
                                    name="WorkStatus" formControlName="WorkStatus">
                                <label class="form-check-label" for="experienced">Experienced</label>
                            </div>
                        </div>
                        <div *ngIf="personalInfoForm.get('WorkStatus')?.touched && personalInfoForm.get('WorkStatus')?.invalid"
                            class="text-danger small mt-1">
                            Work status is required.
                        </div>
                    </div>

                    <!-- Contact Info -->
                    <div class="form-section">
                        <h6>Contact Information</h6>

                        <div class="mb-3">
                            <label class="form-label">Mobile number <span class="text-danger">*</span></label>
                            <small class="d-block text-muted mb-1">Recruiters will contact you on this number</small>
                            <div class="input-group">
                                <span class="input-group-text">+91</span>
                                <input type="text" class="form-control" placeholder="1234567890" name="mobile"
                                    formControlName="Mobile" maxlength="10" pattern="[7-9][0-9]{9}" onlyNumbers>
                            </div>
                            <div *ngIf="personalInfoForm.get('Mobile')?.touched && personalInfoForm.get('Mobile')?.invalid"
                                class="text-danger small mt-1">
                                <span *ngIf="personalInfoForm.get('Mobile')?.errors?.['required']">Mobile number is
                                    required.</span>
                                <span *ngIf="personalInfoForm.get('Mobile')?.errors?.['pattern']">Enter a valid 10-digit
                                    mobile number.</span>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Email address <span class="text-danger">*</span></label>
                            <small class="d-block text-muted mb-1">We will send relevant jobs and updates to this
                                email</small>
                            <input type="email" class="form-control" name="ProfileEmailId"
                                formControlName="ProfileEmailId" maxlength="64">
                            <div *ngIf="personalInfoForm.get('ProfileEmailId')?.touched && personalInfoForm.get('ProfileEmailId')?.invalid"
                                class="text-danger small mt-1">
                                <span *ngIf="personalInfoForm.get('ProfileEmailId')?.errors?.['required']">Email address
                                    is required.</span>
                                <span *ngIf="personalInfoForm.get('ProfileEmailId')?.errors?.['ProfileEmailId']">Enter a
                                    valid email address.</span>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-primary" [disabled]="isSaving">
                        <span *ngIf="isSaving" class="spinner-border spinner-border-sm me-2" role="status"
                            aria-hidden="true"></span>
                        {{ isSaving ? 'Saving...' : 'Save' }}
                    </button>

                </div>
            </div>
        </div>
    </div>
</form>


<div class="modal fade businessCardModalPopup" id="businessCardModal" tabindex="-1" aria-labelledby="businessCardModal"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable">
        <div class="modal-content rounded-4">
            <div class="modal-header border-bottom-0" style="border-bottom: none !important;">
                <h5 class="modal-title" id="personalInfoLabel">
                    Unlock Business Card
                </h5>
                <button type="button" class="btn-close shadow-none" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">

                <p class="mb-1">Unlock your digital Business Card for <b>50 points</b>!</p>
                <p class="mb-1">This will allow you to share your professional card with others.</p>
                <p class="mb-1">Are you sure you want to proceed?</p>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary">Unlock for 50 pts</button>
            </div>
        </div>
    </div>
</div>


<form [formGroup]="professionalForm" (ngSubmit)="submitProfessionalForm()">
    <div class="modal fade" id="profModal" #profModal tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <h5 class="modal-title">
                        <i class="bi bi-briefcase text-primary"></i> Professional Information
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">

                    <!-- Employment Status -->
                    <div class="form-section">
                        <h6>Employment Status</h6>
                        <div class="mb-3">
                            <label class="form-label">Is this your current employment? <span
                                    class="text-danger">*</span></label><br>
                            <div class="btn-group" role="group">
                                <input type="radio" class="btn-check" formControlName="CurrentJob" value="Yes"
                                    id="yesJob">
                                <label class="btn btn-outline-primary" for="yesJob">Yes</label>

                                <input type="radio" class="btn-check" formControlName="CurrentJob" value="No"
                                    id="noJob">
                                <label class="btn btn-outline-primary" for="noJob">No</label>
                            </div>
                            <div *ngIf="professionalForm.get('CurrentJob')?.touched && professionalForm.get('CurrentJob')?.invalid"
                                class="text-danger small">
                                Please select your current employment status.
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Employment type <span class="text-danger">*</span></label><br>
                            <div class="btn-group" role="group">
                                <input type="radio" class="btn-check" formControlName="EmploymentType" value="Full-time"
                                    id="fullTime">
                                <label class="btn btn-outline-primary" for="fullTime">Full-time</label>

                                <input type="radio" class="btn-check" formControlName="EmploymentType"
                                    value="Internship" id="internship">
                                <label class="btn btn-outline-primary" for="internship">Internship</label>
                            </div>
                            <div *ngIf="professionalForm.get('EmploymentType')?.touched && professionalForm.get('EmploymentType')?.invalid"
                                class="text-danger small">
                                Please select your employment type.
                            </div>
                        </div>
                    </div>

                    <!-- Experience -->
                    <div class="form-section">
                        <h6>Experience Details</h6>
                        <div class="row">
                            <div class="col-md-6 mb-2">
                                <label class="form-label">Total experience (Years) <span
                                        class="text-danger">*</span></label>
                                <input type="text" class="form-control" placeholder="Years" maxlength="2"
                                    pattern="^[0-9]{1,2}$" formControlName="ExperienceYears" onlyNumbers>
                                <div *ngIf="professionalForm.get('ExperienceYears')?.touched && professionalForm.get('ExperienceYears')?.invalid"
                                    class="text-danger small">
                                    Please enter years of experience.
                                </div>
                            </div>
                            <div class="col-md-6 mb-2">
                                <label class="form-label">Total experience (Months) <span
                                        class="text-danger">*</span></label>
                                <input type="text" class="form-control" placeholder="Months" maxlength="2"
                                    pattern="^[0-9]{1,2}$" formControlName="ExperienceMonths" onlyNumbers>
                                <div *ngIf="professionalForm.get('ExperienceMonths')?.touched && professionalForm.get('ExperienceMonths')?.invalid"
                                    class="text-danger small mt-1">
                                    <span *ngIf="professionalForm.get('ExperienceMonths')?.errors?.['required']">
                                        Please enter months of experience.
                                    </span>
                                    <span
                                        *ngIf="professionalForm.get('ExperienceMonths')?.errors?.['min'] || professionalForm.get('ExperienceMonths')?.errors?.['max']">
                                        Enter a value between 1 and 12.
                                    </span>
                                    <span *ngIf="professionalForm.get('ExperienceMonths')?.errors?.['pattern']">
                                        Only numbers allowed.
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Company Details -->
                    <div class="form-section">
                        <h6>Company Details</h6>
                        <div class="mb-3">
                            <label class="form-label"><i class="bi bi-building text-primary"></i> Company Name <span
                                    class="text-danger">*</span></label>
                            <input type="text" class="form-control" placeholder="Enter your company name"
                                formControlName="CompanyName" maxlength="64">
                            <div *ngIf="professionalForm.get('CompanyName')?.touched && professionalForm.get('CompanyName')?.invalid"
                                class="text-danger small">
                                Please enter your company name.
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label"><i class="bi bi-person-badge text-primary"></i> Designation <span
                                    class="text-danger">*</span></label>
                            <input type="text" class="form-control" placeholder="Enter your Designation"
                                formControlName="Designation" maxlength="64">
                            <div *ngIf="professionalForm.get('Designation')?.touched && professionalForm.get('Designation')?.invalid"
                                class="text-danger small">
                                Please enter your designation.
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label"><i class="bi bi-calendar text-primary"></i> Joining year <span
                                        class="text-danger">*</span></label>
                                <input type="text" class="form-control" placeholder="Year" formControlName="JoiningYear"
                                    onlyNumbers maxlength="4">
                                <div *ngIf="professionalForm.get('JoiningYear')?.touched && professionalForm.get('JoiningYear')?.invalid"
                                    class="text-danger small">
                                    Please enter joining year.
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Joining month <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" placeholder="Month" maxlength="2"
                                    formControlName="JoiningMonth" pattern="^[0-9]{1,2}$" onlyNumbers>
                                <div *ngIf="professionalForm.get('JoiningMonth')?.touched && professionalForm.get('JoiningMonth')?.invalid"
                                    class="text-danger small">
                                    Please enter joining month.
                                </div>
                                <div class="text-danger small"
                                    *ngIf="professionalForm.get('JoiningMonth')?.errors?.['min'] || professionalForm.get('JoiningMonth')?.errors?.['max']">
                                    Enter a value between 1 and 12.
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Salary -->
                    <div class="form-section">
                        <h6>Salary Details</h6>
                        <div class="row">
                            <div class="col-md-6 mb-2">
                                <label class="form-label">Current salary</label>
                                <div class="input-group">
                                    <span class="input-group-text">₹</span>
                                    <input type="text" class="form-control" maxlength="8" placeholder="Enter amount"
                                        formControlName="SalaryAmount" onlyNumbers>
                                </div>
                                <div *ngIf="professionalForm.get('SalaryAmount')?.touched && professionalForm.get('SalaryAmount')?.invalid"
                                    class="text-danger small">
                                    Please enter salary amount.
                                </div>
                            </div>
                            <div class="col-md-6 mb-2">
                                <label class="form-label">Salary Duration</label>
                                <!-- <input type="number" class="form-control" placeholder="per month / annum"
                                    formControlName="SalaryDuration" (keydown)="preventNonNumericInput($event)"> -->

                                <select class="form-select" formControlName="SalaryDuration">
                                    <option disabled selected value="">Select Duration</option>
                                    <option value="year">Yearly</option>
                                    <option value="month">Monthly</option>
                                </select>

                                <div *ngIf="professionalForm.get('SalaryDuration')?.touched && professionalForm.get('SalaryDuration')?.invalid"
                                    class="text-danger small">
                                    Please enter salary duration.
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
                <div class="modal-footer border-0 pt-0">
                    <button class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-primary" [disabled]="isSaving">
                        <span *ngIf="isSaving" class="spinner-border spinner-border-sm me-2" role="status"
                            aria-hidden="true"></span>
                        {{ isSaving ? 'Saving...' : 'Save' }}
                    </button>
                </div>
            </div>
        </div>
    </div>
</form>




<form [formGroup]="addressForm" (ngSubmit)="submitAddressForm()">
    <div class="modal fade" id="addressModal" #addressModal tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <h5 class="modal-title">
                        <i class="bi bi-geo-alt text-primary"></i> Address Information
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>

                <div class="modal-body">
                    <!-- Location -->
                    <div class="form-section">
                        <h6>Location</h6>
                        <label class="form-label">
                            <i class="bi bi-globe text-primary"></i> Current location <span class="text-danger">*</span>
                        </label><br>
                        <div class="btn-group" role="group">
                            <input type="radio" class="btn-check" formControlName="CurrentLocation" value="India"
                                id="india">
                            <label class="btn btn-outline-primary" for="india">India</label>

                            <input type="radio" class="btn-check" formControlName="CurrentLocation"
                                value="Outside India" id="outside">
                            <label class="btn btn-outline-primary" for="outside">Outside India</label>
                        </div>
                        <div *ngIf="addressForm.get('CurrentLocation')?.touched && addressForm.get('CurrentLocation')?.invalid"
                            class="text-danger small">
                            Location is required
                        </div>
                    </div>

                    <!-- Street Address -->
                    <div class="form-section">
                        <h6>Street Address</h6>
                        <div class="row">
                            <div class="col-12 mb-3">
                                <label class="form-label">
                                    <i class="bi bi-house-door text-primary"></i> Address Line 1 <span
                                        class="text-danger">*</span>
                                </label>
                                <input type="text" class="form-control" placeholder="Enter your address line 1"
                                    formControlName="AddressLine1" maxlength="64">
                                <div *ngIf="addressForm.get('AddressLine1')?.touched && addressForm.get('AddressLine1')?.invalid"
                                    class="text-danger small">
                                    Address Line 1 is required
                                </div>
                            </div>
                            <div class="col-12 mb-3">
                                <label class="form-label">
                                    <i class="bi bi-house text-primary"></i> Address Line 2
                                </label>
                                <input type="text" class="form-control" placeholder="Enter your address line 2"
                                    formControlName="AddressLine2" maxlength="64">
                            </div>
                        </div>
                    </div>

                    <!-- Region -->
                    <div class="form-section">
                        <h6>Region</h6>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label"><i class="bi bi-flag text-primary"></i> Country <span
                                        class="text-danger">*</span></label>
                                <!-- <input type="text" class="form-control" placeholder="Enter your country" formControlName="Country"> -->
                                <select class="form-select" name="Country" formControlName="Country"
                                    (change)="onCountryChange($any($event.target).value)">
                                    <option value="">Select Country</option>
                                    <option *ngFor="let country of countries" [value]="country.isoCode"> {{ country.flag
                                        }} {{ country.name }}</option>
                                </select>
                                <div *ngIf="addressForm.get('Country')?.touched && addressForm.get('Country')?.invalid"
                                    class="text-danger small">
                                    Country is required
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label"><i class="bi bi-building text-primary"></i> State <span
                                        class="text-danger">*</span></label>
                                <!-- <input type="text" class="form-control" placeholder="Enter your state" formControlName="State"> -->
                                <select class="form-select" name="State" formControlName="State"
                                    (change)="onStateChange($any($event.target).value)">
                                    <option value="">Select State</option>
                                    <option *ngFor="let state of states" [value]="state.isoCode">{{ state.name }}
                                    </option>
                                </select>
                                <div *ngIf="addressForm.get('State')?.touched && addressForm.get('State')?.invalid"
                                    class="text-danger small">
                                    State is required
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label"><i class="bi bi-building-fill text-primary"></i> City <span
                                        class="text-danger">*</span></label>
                                <!-- <input type="text" class="form-control" placeholder="Enter your city" formControlName="City"> -->
                                <select class="form-select" formControlName="City">
                                    <option value="">Select City</option>
                                    <option *ngFor="let city of cities" [value]="city.name">{{ city.name }}</option>
                                </select>

                                <div *ngIf="addressForm.get('City')?.touched && addressForm.get('City')?.invalid"
                                    class="text-danger small">
                                    City is required
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label"><i class="bi bi-hash text-primary"></i> Zip Code <span
                                        class="text-danger">*</span></label>
                                <input type="text" class="form-control" placeholder="Enter your zip code"
                                    formControlName="ZipCode" maxlength="6" onlyNumbers>
                                <div *ngIf="addressForm.get('ZipCode')?.touched && addressForm.get('ZipCode')?.invalid"
                                    class="text-danger small">
                                    Zip Code is required and must be numeric
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="modal-footer border-0">
                    <button class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-primary">
                        <span *ngIf="isSaving" class="spinner-border spinner-border-sm me-2" role="status"
                            aria-hidden="true"></span>
                        {{ isSaving ? 'Saving...' : 'Save' }}
                    </button>
                </div>
            </div>
        </div>
    </div>
</form>



<form [formGroup]="certificationForm" (ngSubmit)="submitCertificationForm()">
    <div class="modal fade" id="certModal" #certModal tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content">
                <!-- Modal Header -->
                <div class="modal-header border-0">
                    <h5 class="modal-title">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="lucide lucide-award h-5 w-5 text-blue-600">
                            <path
                                d="m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526">
                            </path>
                            <circle cx="12" cy="8" r="6"></circle>
                        </svg> Certifications
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <!-- Modal Body -->
                <div class="modal-body">
                    <!-- Certification Details -->
                    <div class="form-section mb-4">
                        <h6>Certification Details</h6>

                        <div class="mb-3">
                            <label class="form-label text-dark">
                                <i class="bi bi-award text-primary"></i> Certification Name <span
                                    class="text-danger">*</span>
                            </label>
                            <input type="text" formControlName="CertificationName" class="form-control"
                                placeholder="Enter your certification name" maxlength="64" />
                            <div *ngIf="certificationForm.get('CertificationName')?.touched && certificationForm.get('CertificationName')?.invalid"
                                class="text-danger small">This field is required.</div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label text-dark">
                                <i class="bi bi-card-heading text-primary"></i> Completion ID <span
                                    class="text-danger">*</span>
                            </label>
                            <input type="text" formControlName="CertificationId" class="form-control"
                                placeholder="Enter your course completion ID" maxlength="64" />
                            <div *ngIf="certificationForm.get('CertificationId')?.touched && certificationForm.get('CertificationId')?.invalid"
                                class="text-danger small">This field is required.</div>
                        </div>

                        <div class="mb-2">
                            <label class="form-label text-dark">
                                <i class="bi bi-box-arrow-up-right text-primary"></i> Certification URL
                            </label>
                            <input type="text" formControlName="CertificationUrl" class="form-control"
                                placeholder="Enter certification URL (optional)" maxlength="150" />
                        </div>
                    </div>

                    <!-- Validity Period -->
                    <div class="form-section">
                        <h6>Validity Period</h6>

                        <div class="mb-3">
                            <label class="form-label text-dark">
                                <i class="bi bi-calendar text-primary"></i> Certification Validity
                            </label>
                            <div class="row gx-2">
                                <div class="col-3">
                                    <select class="form-select" formControlName="ValidFromMonth">
                                        <option disabled selected value="">MM</option>
                                        <option *ngFor="let m of months" [value]="m.value">{{ m.name }}</option>
                                    </select>
                                </div>
                                <div class="col-3">
                                    <select class="form-select" formControlName="ValidFromYear">
                                        <option disabled selected value="">YYYY</option>
                                        <option *ngFor="let y of years" [value]="y">{{ y }}</option>
                                    </select>
                                </div>
                                <div class="col-1 text-center d-flex align-items-center justify-content-center">
                                    <span class="text-muted">To</span>
                                </div>
                                <div class="col-3">
                                    <select class="form-select" formControlName="ValidToMonth">
                                        <option disabled selected value="">MM</option>
                                        <option *ngFor="let m of months" [value]="m.value">{{ m.name }}</option>
                                    </select>
                                </div>
                                <div class="col-2">
                                    <select class="form-select" formControlName="ValidToYear">
                                        <option disabled selected value="">YYYY</option>
                                        <option *ngFor="let y of years" [value]="y">{{ y }}</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="form-check mt-2">
                            <input class="form-check-input" type="checkbox" formControlName="NoExpiry" id="noExpiry" />
                            <label class="form-check-label" for="noExpiry">This certification does not expire</label>
                        </div>
                    </div>
                </div>

                <!-- Modal Footer -->
                <div class="modal-footer border-top-0">
                    <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-primary" [disabled]="isSaving">
                        <span *ngIf="isSaving" class="spinner-border spinner-border-sm me-2" role="status"
                            aria-hidden="true"></span>
                        {{ isSaving ? 'Saving...' : 'Save' }}
                    </button>
                </div>
            </div>
        </div>
    </div>
</form>




<div class="modal fade socialLinksModalPopup" id="twitterModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header border-0">
                <h5 class="modal-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="lucide lucide-twitter h-4 w-4 text-gray-500">
                        <path
                            d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z">
                        </path>
                    </svg> Add Twitter Handle
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <form [formGroup]="socialForm" (ngSubmit)="submitSocialLinksForm()">
                <div class="modal-body">
                    <label class="form-label mb-1">Enter your URL</label>
                    <div class="input-group mb-2">
                        <span class="input-group-text bg-white">
                            <i class="bi bi-link-45deg text-muted"></i>
                        </span>
                        <input type="text" class="form-control" formControlName="TwitterUrl"
                            placeholder="https://twitter.com/yourusername">
                    </div>
                    <div *ngIf="socialForm.get('TwitterUrl')?.touched && socialForm.get('TwitterUrl')?.invalid"
                        class="text-danger small">
                        Enter a valid Twitter URL (e.g., https://twitter.com/yourusername)
                    </div>
                    <div class="form-text">Share your Twitter handle to stay connected</div>
                </div>

                <div class="modal-footer border-0">
                    <button class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button class="btn btn-primary" [disabled]="socialForm.get('TwitterUrl')?.invalid || isSaving">
                        <span *ngIf="!isSaving">Save</span>
                        <span *ngIf="isSaving" class="spinner-border spinner-border-sm me-1" role="status"
                            aria-hidden="true"></span>
                        <span *ngIf="isSaving">Saving...</span>
                    </button>

                </div>
            </form>
        </div>
    </div>
</div>



<div class="modal fade socialLinksModalPopup" id="linkedinModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header border-0">
                <h5 class="modal-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="lucide lucide-linkedin h-4 w-4 text-gray-500">
                        <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                        <rect width="4" height="12" x="2" y="9"></rect>
                        <circle cx="4" cy="4" r="2"></circle>
                    </svg> Add LinkedIn Profile
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <form [formGroup]="socialForm" (ngSubmit)="submitSocialLinksForm()">
                <div class="modal-body">
                    <label class="form-label mb-1">Enter your URL</label>
                    <div class="input-group mb-2">
                        <span class="input-group-text bg-white">
                            <i class="bi bi-link-45deg text-muted"></i>
                        </span>
                        <input type="text" class="form-control" formControlName="LinkedInUrl"
                            placeholder="https://linkedin.com/in/yourprofile">
                    </div>
                    <div *ngIf="socialForm.get('LinkedInUrl')?.touched && socialForm.get('LinkedInUrl')?.invalid"
                        class="text-danger small">
                        Enter a valid LinkedIn URL (e.g., https://linkedin.com/in/yourprofile)
                    </div>
                    <div class="form-text">Add your LinkedIn profile to connect with professionals</div>
                </div>

                <div class="modal-footer border-0">
                    <button class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button class="btn btn-primary" [disabled]="socialForm.get('LinkedInUrl')?.invalid || isSaving">
                        <span *ngIf="!isSaving">Save</span>
                        <span *ngIf="isSaving" class="spinner-border spinner-border-sm me-1" role="status"
                            aria-hidden="true"></span>
                        <span *ngIf="isSaving">Saving...</span>
                    </button>

                </div>
            </form>
        </div>
    </div>
</div>



<div class="modal fade socialLinksModalPopup" id="facebookModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header border-0">
                <h5 class="modal-title">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="lucide lucide-facebook h-4 w-4 text-gray-500">
                        <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>
                    </svg> Add Facebook URL
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <form [formGroup]="socialForm" (ngSubmit)="submitSocialLinksForm()">
                <div class="modal-body">
                    <label class="form-label mb-1">Enter your URL</label>
                    <div class="input-group mb-2">
                        <span class="input-group-text bg-white">
                            <i class="bi bi-link-45deg text-muted"></i>
                        </span>
                        <input type="text" class="form-control" formControlName="FacebookUrl"
                            placeholder="https://facebook.com/yourusername">
                    </div>
                    <div *ngIf="socialForm.get('FacebookUrl')?.touched && socialForm.get('FacebookUrl')?.invalid"
                        class="text-danger small">
                        Enter a valid Facebook URL (e.g., https://facebook.com/yourusername)
                    </div>
                    <div class="form-text">Link your Facebook profile to connect with professionals</div>
                </div>

                <div class="modal-footer border-0">
                    <button class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button class="btn btn-primary" [disabled]="socialForm.get('FacebookUrl')?.invalid || isSaving">
                        <span *ngIf="!isSaving">Save</span>
                        <span *ngIf="isSaving" class="spinner-border spinner-border-sm me-1" role="status"
                            aria-hidden="true"></span>
                        <span *ngIf="isSaving">Saving...</span>
                    </button>

                </div>
            </form>
        </div>
    </div>
</div>